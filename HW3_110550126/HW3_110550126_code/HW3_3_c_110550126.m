clear;
clc;
xy=[10 10;
    50 15;
    75 60;
    90 100;
    105 140;
    150 200;
    180 140;
    190 120; 
    160 100; 
    130 80;];
x = xy(:,1);
y = xy(:,2);

%g = @(u) [(1-u).^3 3.*u.*((1-u).^2) 3.*u.^2.*(1-u) u.^3;];
%g1 = @(u) g(u)*xy([1:4],:);
%g2 = @(u) g(u)*xy([4:7],:);
%g3 = @(u) g(u)*xy([7:10],:);
g1_x = @(u) x(1).*(1-u).^3 + x(2).*3.*u.*((1-u).^2)+x(3).*3.*u.^2.*(1-u)+x(4).*u.^3;
g1_y = @(u) y(1).*(1-u).^3 + y(2).*3.*u.*((1-u).^2)+y(3).*3.*u.^2.*(1-u)+y(4).*u.^3;

g2_x = @(u) x(4).*(1-u).^3 + x(5).*3.*u.*((1-u).^2)+x(6).*3.*u.^2.*(1-u)+x(7).*u.^3;
g2_y = @(u) y(4).*(1-u).^3 + y(5).*3.*u.*((1-u).^2)+y(6).*3.*u.^2.*(1-u)+y(7).*u.^3;

g3_x = @(u) x(7).*(1-u).^3 + x(8).*3.*u.*((1-u).^2)+x(9).*3.*u.^2.*(1-u)+x(10).*u.^3;
g3_y = @(u) y(7).*(1-u).^3 + y(8).*3.*u.*((1-u).^2)+y(9).*3.*u.^2.*(1-u)+y(10).*u.^3;
u = linspace(0,1);

plot(g1_x(u),g1_y(u));
hold on;
plot(g2_x(u),g2_y(u));
hold on;
plot(g3_x(u),g3_y(u));
hold on;
plot(x,y,'-O');