clear;
clc;
xy=[10 10;
    50 15;
    75 60;
    90 100;
    105 140;
    150 200;
    180 140;
    190 120; 
    160 100; 
    130 80;];
x = xy(:,1);
y = xy(:,2);

%g = @(u) [(1-u).^3/6 u.^3/2-u.^2+2/3 -u.^3/2+u.^2/2+u/2+1/6 u.^3/6];
%g1 = @(u) g(u)*xy([1:4],:);
%g2 = @(u) g(u)*xy([2:5],:);
%g3 = @(u) g(u)*xy([3:6],:);
%g4 = @(u) g(u)*xy([4:7],:);
%g5 = @(u) g(u)*xy([5:8],:);
%g6 = @(u) g(u)*xy([6:9],:);
%g7 = @(u) g(u)*xy([7:10],:);


g1_x = @(u) x(1).*((1-u).^3/6) + x(2).*(u.^3/2-u.^2+2/3)+x(3).*(-u.^3/2+u.^2/2+u/2+1/6)+x(4).*(u.^3/6);
g1_y = @(u) y(1).*((1-u).^3/6) + y(2).*(u.^3/2-u.^2+2/3)+y(3).*(-u.^3/2+u.^2/2+u/2+1/6)+y(4).*(u.^3/6);
g2_x = @(u) x(2).*((1-u).^3/6) + x(3).*(u.^3/2-u.^2+2/3)+x(4).*(-u.^3/2+u.^2/2+u/2+1/6)+x(5).*(u.^3/6);
g2_y = @(u) y(2).*((1-u).^3/6) + y(3).*(u.^3/2-u.^2+2/3)+y(4).*(-u.^3/2+u.^2/2+u/2+1/6)+y(5).*(u.^3/6);
g3_x = @(u) x(3).*((1-u).^3/6) + x(4).*(u.^3/2-u.^2+2/3)+x(5).*(-u.^3/2+u.^2/2+u/2+1/6)+x(6).*(u.^3/6);
g3_y = @(u) y(3).*((1-u).^3/6) + y(4).*(u.^3/2-u.^2+2/3)+y(5).*(-u.^3/2+u.^2/2+u/2+1/6)+y(6).*(u.^3/6);
g4_x = @(u) x(4).*((1-u).^3/6) + x(5).*(u.^3/2-u.^2+2/3)+x(6).*(-u.^3/2+u.^2/2+u/2+1/6)+x(7).*(u.^3/6);
g4_y = @(u) y(4).*((1-u).^3/6) + y(5).*(u.^3/2-u.^2+2/3)+y(6).*(-u.^3/2+u.^2/2+u/2+1/6)+y(7).*(u.^3/6);
g5_x = @(u) x(5).*((1-u).^3/6) + x(6).*(u.^3/2-u.^2+2/3)+x(7).*(-u.^3/2+u.^2/2+u/2+1/6)+x(8).*(u.^3/6);
g5_y = @(u) y(5).*((1-u).^3/6) + y(6).*(u.^3/2-u.^2+2/3)+y(7).*(-u.^3/2+u.^2/2+u/2+1/6)+y(8).*(u.^3/6);
g6_x = @(u) x(6).*((1-u).^3/6) + x(7).*(u.^3/2-u.^2+2/3)+x(8).*(-u.^3/2+u.^2/2+u/2+1/6)+x(9).*(u.^3/6);
g6_y = @(u) y(6).*((1-u).^3/6) + y(7).*(u.^3/2-u.^2+2/3)+y(8).*(-u.^3/2+u.^2/2+u/2+1/6)+y(9).*(u.^3/6);
g7_x = @(u) x(7).*((1-u).^3/6) + x(8).*(u.^3/2-u.^2+2/3)+x(9).*(-u.^3/2+u.^2/2+u/2+1/6)+x(10).*(u.^3/6);
g7_y = @(u) y(7).*((1-u).^3/6) + y(8).*(u.^3/2-u.^2+2/3)+y(9).*(-u.^3/2+u.^2/2+u/2+1/6)+y(10).*(u.^3/6);

u = linspace(0,1);

plot(g1_x(u),g1_y(u));
hold on;
plot(g2_x(u),g2_y(u));
hold on;
plot(g3_x(u),g3_y(u));
hold on;
plot(g4_x(u),g4_y(u));
hold on;
plot(g5_x(u),g5_y(u));
hold on;
plot(g6_x(u),g6_y(u));
hold on;
plot(g7_x(u),g7_y(u));
hold on;
for i =1:10
    plot(x(i),y(i),'o');
end
